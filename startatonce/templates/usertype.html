{#@author:郭宇航 修改界面#}
{#@author:卢文宇 Django#}
{#@author:玉波妮 数据分析展示#}
<!DOCTYPE html>
<html lang="en">
<head>
<title>用户使用</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta name="keywords" content="" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- bootstrap-css -->
<link href="/static/css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<!--// bootstrap-css -->
<!-- css -->
<link rel="stylesheet" href="/static/css/style.css" type="text/css" media="all" />
<!--// css -->
<!-- font-awesome icons -->
<link href="/static/css/font-awesome.css" rel="stylesheet">
<!-- //font-awesome icons -->
<!-- font -->
<!--<link href="http://fonts.googleapis.com/css?family=Playball&amp;subset=latin-ext" rel="stylesheet">
<link href="http://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:400,700italic,700,400italic,300italic,300' rel='stylesheet' type='text/css'>-->
<!-- //font -->
<script src="/static/js/jquery-1.11.1.min.js"></script>
<script src="/static/js/bootstrap.js"></script>
    <script src="/static/js/echarts.js"></script>
<script type="text/javascript">
	jQuery(document).ready(function($) {
		$(".scroll").click(function(event){		
			event.preventDefault();
			$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
		});
	});
</script> 
<!--[if lt IE 9]>
  <script src="js/html5shiv.js"></script>
<![endif]-->
</head>
<HR>
	<!-- banner -->
	<div class="banner about-banner">
		<div class="header">
			<div class="container">
				<div class="header-left">
					<div class="w3layouts-logo">
						<h1>
							<a href="/index/">共享单车数据分析</a>
						</h1>
					</div>
				</div>
				<div class="clearfix"> </div>
			</div>
		</div>
		<div class="header-bottom">
			<div class="container">
				<div class="top-nav">
						<nav class="navbar navbar-default">
								<div class="navbar-header">
									<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
										<span class="sr-only">Toggle navigation</span>
										<span class="icon-bar"></span>
										<span class="icon-bar"></span>
										<span class="icon-bar"></span>
									</button>
								</div>
							<!-- Collect the nav links, forms, and other content for toggling -->
							<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
								<ul class="nav navbar-nav">
									<li><a class="list-border" href="/home/">主页</a></li>
									<li class=""><a href="#" class="active dropdown-toggle hvr-bounce-to-bottom" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">数据分析<span class="caret"></span></a>
										<ul class="dropdown-menu">
                                            <li><a class="hvr-bounce-to-bottom" href="/conclude/">概要</a></li>
											<li><a class="hvr-bounce-to-bottom" href="/usertype/">用户使用</a></li>
											<li><a class="hvr-bounce-to-bottom" href="/weather/">天气</a></li>
											<li><a class="hvr-bounce-to-bottom" href="/trip/">骑行时间</a></li>
											<li><a class="hvr-bounce-to-bottom" href="/temperature/">温度</a></li>

											<li><a class="hvr-bounce-to-bottom" href="/popularity/">站点人气</a></li>
											<li><a class="hvr-bounce-to-bottom" href="/station/">克林顿街&华盛顿街站点</a></li>
										</ul>
									</li>
									<li><li><a class="list-border1" href="/bikes/">远程数据</a></li>
                                    <li><a class="list-border1" href="/lookforward/">预测分析</a></li>
								</ul>	
								<div class="clearfix"> </div>
							</div>	
						</nav>		
				</div>
			</div>
		</div>
	</div>
	<!-- //banner -->
	<div class="about-heading">	
		<div class="container">
			<h2>用户使用</h2>
		</div>
	</div>

	<!--添加数据-->
    <center><div id="user" style="width:750px;height:500px;"></div></center>
	<script type="text/javascript">
        var myChart = echarts.init(document.getElementById('user'));
		option = {
    title : {
        text: '用户类型分布',
        x:'left'
    },
    color: ['#37a2da','#fffe52','#e64a2f','#ffdb5c','#ff9f7f','#fb7293','#e7bcf3','#8378ea'],
    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {
                show: true,
                type: ['pie', 'funnel']
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    series : [
        {
            name:'共享单车用户分布',
            type:'pie',
            radius : [40, 150],

            roseType : 'area',
            data:[
                {value:20662, name:'订阅者'},
                {value:1216, name:'消费者'},
                {value:235, name:'未成年'},

            ]
        }
    ]
};
    // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);

     </script>

<center><div id="hour" style="width:750px;height:500px;"></div></center>
        <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('hour'));
option={
    title:{
        text:'按小时统计骑行总量',
    },
    color: ['#797fff'],
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {
                show: true,
                type: ['pie', 'funnel']
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    tooltip : {
        trigger: 'axis'
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : ['0','1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19','20','21','22','23']
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
        {
            name:'骑车数量',
            type:'line',
            smooth:true,
            itemStyle: {normal: {areaStyle: {type: 'default'}}},
            data:[89,45,43,46,201,711,1825,2809,1595,915,1213,765,725,369,333,517,1024,2396,1454,1468,1007,554,402,219]
        }]
};myChart.setOption(option);
        </script>

    <center><div id="day" style="width:750px;height:500px;"></div></center>
        <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('day'));
        option = {
    title: {
        text: '按天统计骑行数量'
    },
    color: ['#ff6713'],
    tooltip : {
        trigger: 'axis',
        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
        }
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis : [
        {
            type : 'category',
            data : ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            axisTick: {
                alignWithLabel: true
            }
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
            toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {
                show: true,
                type: ['pie', 'funnel']
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    series : [
        {
            name:'次数',
            type:'bar',
            barWidth: '60%',
            data:[2404, 4564 ,5023, 3069, 2740, 1885, 1000]
        }
    ]
};
    myChart.setOption(option);
    </script>
<br><br>
 <center><div id="month" style="width:750px;height:500px;"></div></center>
        <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('month'));
        option = {
      title: {
        text: '按月统计骑行频率'
    },
    color: ['#7591ff'],
    tooltip : {
        trigger: 'axis',
        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
        }
    },
     toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {
                show: true,
                type: ['pie', 'funnel']
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
    xAxis : [
        {
            type : 'category',
            data : ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul','Aug','Sep'],
            axisTick: {
                alignWithLabel: true
            }
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
        {
            name:'次数',
            type:'line',
            barWidth: '60%',
            data:[874,979,1000,2623,3377,4809,3965,1000,2035]
        }
    ]
};
         myChart.setOption(option);
    </script>
    <br><br>
 <center><div id="gender" style="width:750px;height:500px;"></div></center>
        <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('gender'));
        option = {
    backgroundColor: '#ffffff',

    title : {
        text: '用户性别分布',
        x:'left'
    },

    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },

    visualMap: {
        show: false,
        min: 80,
        max: 600,
        inRange: {
            colorLightness: [0, 1]
        }
    }, toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {
                show: true,
                type: ['pie', 'funnel']
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    series : [
        {
            name:'百分比',
            type:'pie',
            radius : '55%',
            center: ['50%', '50%'],
            data:[
                {value:33531, name:'Male'},
                {value:15320, name:'Female'},
            ].sort(function (a, b) { return a.value - b.value; }),
            roseType: 'radius',
            label: {
                normal: {
                    textStyle: {
                        color: 'rgba(255, 255, 255, 0.3)'
                    }
                }
            },
            labelLine: {
                normal: {
                    lineStyle: {
                        color: 'rgba(255, 255, 255, 0.3)'
                    },
                    smooth: 0.2,
                    length: 10,
                    length2: 20
                }
            },
            itemStyle: {
                normal: {
                    color: '#c23531',
                    shadowBlur: 200,
                    shadowColor: 'rgb(255,222,0)'
                }
            },


            animationType: 'scale',
            animationEasing: 'elasticOut',
            animationDelay: function (idx) {
                return Math.random() * 200;
            }
        }
    ]
};
    myChart.setOption(option);
    </script>
	<script src="/static/js/SmoothScroll.min.js"></script>
	<script type="text/javascript" src="/static/js/move-top.js"></script>
	<script type="text/javascript" src="/static/js/easing.js"></script>
	<!-- here stars scrolling icon -->
	<script type="text/javascript">
		$(document).ready(function() {
			/*
				var defaults = {
				containerID: 'toTop', // fading element id
				containerHoverID: 'toTopHover', // fading element hover id
				scrollSpeed: 1200,
				easingType: 'linear' 
				};
			*/
								
			$().UItoTop({ easingType: 'easeOutQuart' });
								
			});
	</script>

    <br/><br/><br/><br/>
<HR align=center width=750px; color=#000000 SIZE=15>
    <center><div style="width:750px;">
    <h3 style="text-align: left;font-family: 宋体">分析结论:</h3>
    <div><p style="text-align: left;font-size: 18px">1.由上述饼图可知,在数据集中共有20662人是订阅者，占比93。44%。用户主要是订购月卡的人。由此可见，人们更倾向于长期骑行。</p>
    </div>
    <div><p style="text-align: left;font-size: 18px">2.由上述面积图可知,在一天的时间中，在早7点和晚5点达到一天用车量高峰。早10点和晚7点再次出现小高峰。</p>
    </div>
    <div><p style="text-align: left;font-size: 18px">3.由上述柱状图可知,在一周的时间中，用车数量从周一至周三递增，在周三达到峰值5023辆，随后用车量递减。</p>
    </div>
    <div><p style="text-align: left;font-size: 18px">4.由上述折线图可知,在统计的九个月中，用车数1-3月增长且增幅平缓，3-6月迅猛增长，且于6月达到最值，随后大幅递减。于9月发生了第二次上升态势。</p>
    </div>
    <div><p style="text-align: left;font-size: 18px">5.由上述饼图(日光图)可知,占比68.64%的男性构成了主要使用用户。</p>
    </div>
    </div></center>

    <HR align=center width=750px; color=#000000 SIZE=15>


    <center><div style="width:750px;">
    <h3 style="text-align: left;font-family: 宋体">配置建议:</h3>
    <div><p style="text-align: left;font-size: 18px">1.在共享单车app设计订购月卡宣传，采取适当优惠力度吸引更多新用户订购月卡。</p>
    </div>
    <div><p style="text-align: left;font-size: 18px">2.在调配车辆时，鉴于一天、一周的使用高峰，以及一年中3-6月用车量迅速增长，应提前预备好车辆，避免出现供不应求的现象。</p>
    </div>
    <div><p style="text-align: left;font-size: 18px">3.在调配车辆时，考虑到一周中周四以后用车量递减，以及一年中寒冷的季节里，应做好维修回收车辆工作，及时回收损坏车辆以及"僵尸"车。</p>
    </div>
    </div></center>

<HR align=center width=750px; color=#000000 SIZE=15>

<br/><br/><br/>

    <div class="copyright">
        <div class = "container">
			<p><h4>Copyright &copy;2019.Start At Once All rights reserved.</h4></p>
	    </div>
    </div>

	<!-- //here ends scrolling icon -->
</body>
</html>